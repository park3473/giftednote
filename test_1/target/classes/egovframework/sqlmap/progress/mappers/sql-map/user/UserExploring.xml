<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.giftednote.user.exploring.Service.impl.UserExploringMapper">
	<select id="getList" resultType="hashMap" parameterType="egovframework.giftednote.user.exploring.model.UserExploringVo">
		SELECT * FROM TBL_EXPLORING
		WHERE lab_id = #{lab_id} AND IDX = #{IDX}
	</select>
	
	<insert id="setExplor" parameterType="egovframework.giftednote.user.exploring.model.UserExploringVo">
		INSERT INTO TBL_EXPLORING
		(lab_id , IDX , CLASS_TM , LEADER_TYPE , CLASS_TYPE , CLASS_PLACE , SCORE_JOIN , SCORE_UPTAKE , LEARN , FELT , OTHER)
		VALUES
		(#{lab_id} , #{IDX} , #{CLASS_TM} , #{LEADER_TYPE} , #{CLASS_TYPE} , #{CLASS_PLACE} , #{SCORE_JOIN} , #{SCORE_UPTAKE} , #{LEARN} , #{FELT} , #{OTHER})
	</insert>
	
	<select id="getClassCheck" resultType="int" parameterType="egovframework.giftednote.user.exploring.model.UserExploringVo">
		SELECT COUNT(*) FROM TBL_EXPLORING WHERE lab_id = #{lab_id} AND DATE_FORMAT(CLASS_TM,'%Y-%m-%d') = #{CLASS_TM} AND IDX = #{IDX};
	</select>
	
	<delete id="setExploringDelete" parameterType="egovframework.giftednote.user.exploring.model.UserExploringVo">
		DELETE FROM TBL_EXPLORING WHERE DATE_FORMAT(CLASS_TM,'%Y-%m-%d') = #{CLASS_TM} AND lab_id = #{lab_id} AND IDX = #{IDX};
	</delete>
</mapper>