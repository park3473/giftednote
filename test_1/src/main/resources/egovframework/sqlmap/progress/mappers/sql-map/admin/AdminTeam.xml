<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.giftednote.admin.team.Service.impl.AdminTeamMapper">
	<select id="getALLList" resultType="hashMap" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		SELECT * FROM TBL_PREURP_LABS
		WHERE 1 = 1 
		ORDER BY lab_id desc
		LIMIT ${LIMIT} OFFSET ${OFFSET}
	</select>
	<select id="getALLListCnt" resultType="int" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		SELECT COUNT(*) FROM TBL_PREURP_LABS
	</select>
	
	<select id="getStudentTeamList" resultType="hashMap" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		SELECT STUDENTS.* , USERS.ur_id FROM TBL_PREURP_STUDENTS STUDENTS JOIN TBL_PREURP_USERS USERS WHERE STUDENTS.std_ur_userid = USERS.ur_userid AND STUDENTS.std_selected_lab_id = #{lab_id}
	</select>
	
	<select id="getLeaderTeamList" resultType="hashMap" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		SELECT UR_LAB.* , USERS.ur_id FROM TBL_PREURP_UR_LAB UR_LAB JOIN TBL_PREURP_USERS USERS WHERE UR_LAB.urlab_ur_userid = USERS.ur_userid AND UR_LAB.urlab_lab_id = #{lab_id}
	</select>
	
	<delete id="setDelete" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		DELETE FROM TBL_TEAM WHERE N_IDX = #{N_IDX} AND IDX = #{IDX}
	</delete>
	
	<delete id="setDeleteRECORD" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		DELETE FROM TBL_RECORD WHERE N_IDX = #{N_IDX} AND IDX = #{IDX}
	</delete>
	
	<delete id="setDeleteEXPLORING" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		DELETE  FROM TBL_EXPLORING WHERE N_IDX = #{N_IDX} AND IDX = #{IDX}
	</delete>
	
	<delete id="setDeleteSRCE" parameterType="egovframework.giftednote.admin.team.Model.AdminTeamVo">
		DELETE FROM TBL_SRCE WHERE N_IDX = #{N_IDX} AND IDX = #{IDX}
	</delete>
	
	
</mapper>